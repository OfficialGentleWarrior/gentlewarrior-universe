<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gentle Warrior ‚Äî Kindness Counter</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#03110a;
      --bg-soft:#062016;
      --card:#0b2a1b;
      --accent:#9ae07a;
      --accent-soft:rgba(154,224,122,0.12);
      --text:#f4fff7;
      --muted:#a2b7a6;
      --border:#21412e;
      --shadow:0 14px 32px rgba(0,0,0,0.65);
    }
    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#123822 0,#020806 55%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .wrap{
      max-width:420px;
      width:100%;
      background:var(--bg-soft);
      border-radius:22px;
      box-shadow:var(--shadow);
      padding:18px 16px 20px;
      border:1px solid var(--border);
      opacity:0;
      transform:translateY(8px);
      animation:fadeInUp 450ms ease-out forwards;
    }
    @keyframes fadeInUp{
      to{opacity:1;transform:translateY(0);}
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:6px;
      font-size:11px;
      padding:4px 12px;
      border-radius:999px;
      background:#04130b;
      border:1px solid rgba(154,224,122,0.3);
      color:var(--muted);
      margin-bottom:6px;
    }
    .hero-title{
      text-align:center;
      margin-bottom:10px;
    }
    .hero-title h1{
      font-size:20px;
      margin-bottom:2px;
    }
    .hero-title p{
      font-size:12px;
      color:var(--muted);
    }

    .heart-aura{
      width:80px;
      height:80px;
      border-radius:50%;
      margin:10px auto 6px;
      display:flex;
      align-items:center;
      justify-content:center;
      background:radial-gradient(circle at center, rgba(154,224,122,0.35) 0, transparent 60%);
      animation:heartPulse 2.2s ease-in-out infinite;
    }
    .heart-img{
      width:64px;
      height:auto;
      filter:drop-shadow(0 0 10px rgba(154,224,122,0.55));
      display:block;
    }
    @keyframes heartPulse{
      0%,100%{
        transform:scale(1);
        filter:drop-shadow(0 0 10px rgba(154,224,122,0.4));
      }
      40%{
        transform:scale(1.06);
        filter:drop-shadow(0 0 16px rgba(154,224,122,0.9));
      }
    }

    .subtitle{
      text-align:center;
      font-size:13px;
      color:var(--muted);
      margin-bottom:12px;
    }

    .btn-row{text-align:center;margin:10px 0 6px;}
    .btn{
      padding:10px 14px;
      border-radius:999px;
      border:none;
      background:var(--accent);
      color:#04210f;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      min-width:230px;
      transition:transform 120ms ease, box-shadow 120ms ease;
      box-shadow:0 8px 18px rgba(0,0,0,0.55);
    }
    .btn:active{
      transform:scale(0.97) translateY(1px);
      box-shadow:0 4px 10px rgba(0,0,0,0.6);
    }
    .btn.small{
      min-width:0;
      padding:7px 12px;
      font-size:13px;
      box-shadow:none;
    }

    .secondary-btn{
      padding:8px 12px;
      border-radius:999px;
      border:1px solid var(--accent-soft);
      background:rgba(10,34,21,0.9);
      color:var(--accent);
      font-size:12px;
      cursor:pointer;
    }
    .secondary-btn.small{
      padding:6px 10px;
      font-size:12px;
    }

    .ghost-btn{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid transparent;
      background:transparent;
      color:var(--muted);
      font-size:12px;
      cursor:pointer;
    }
    .ghost-btn.small{
      padding:6px 8px;
      font-size:12px;
    }

    .count-card{
      margin:10px 0 8px;
      padding:10px 12px 12px;
      border-radius:16px;
      background:var(--card);
      border:1px solid var(--border);
      text-align:center;
    }
    .count-label{
      font-size:12px;
      color:var(--muted);
      margin-bottom:4px;
    }
    .count-number{
      font-size:28px;
      font-weight:700;
      letter-spacing:0.03em;
    }

    .note{
      font-size:11px;
      color:var(--muted);
      text-align:center;
      margin-bottom:6px;
    }

    .reset-row{text-align:center;margin-bottom:6px;}
    .reset-btn{
      background:none;
      border:none;
      color:var(--muted);
      font-size:11px;
      text-decoration:underline;
      cursor:pointer;
    }

    .reset-confirm{
      font-size:11px;
      color:var(--muted);
      text-align:center;
      border-radius:12px;
      border:1px solid var(--border);
      padding:8px 8px 6px;
      margin:4px 0 8px;
      background:#04140c;
    }
    .reset-confirm p{margin-bottom:6px;}
    .reset-actions{
      display:flex;
      justify-content:center;
      gap:6px;
    }

    .share-row{
      margin:8px 0 10px;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      justify-content:center;
    }

    .message-section{
      margin-top:6px;
    }
    .message-label{
      font-size:11px;
      color:var(--muted);
      margin:4px 2px;
      text-align:left;
    }

    .message-box{
      font-size:13px;
      padding:9px 10px;
      border-radius:14px;
      background:#04150c;
      border:1px solid var(--border);
      text-wrap:balance;
      min-height:40px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .message-box.secondary{
      background:#04110a;
      border-style:dashed;
    }

    .status{
      margin-top:6px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
      min-height:1em;
    }

    .footer{
      margin-top:11px;
      font-size:11px;
      color:var(--muted);
      text-align:center;
      text-wrap:balance;
    }

    /* Modal */
    .hidden{display:none !important;}

    .modal{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:40;
    }
    .modal-backdrop{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,0.6);
    }
    .modal-card{
      position:relative;
      width:100%;
      max-width:500px;
      background:#04150c;
      border-radius:18px;
      border:1px solid var(--border);
      padding:14px 16px 12px;
      box-shadow:0 10px 30px rgba(0,0,0,0.8);
      z-index:41;
      animation:fadeInUp 260ms ease-out forwards;
    }
    .modal-title{
      font-size:15px;
      margin-bottom:6px;
    }
    .modal-text{
      font-size:12px;
      color:var(--muted);
      white-space:pre-line;
      margin-bottom:10px;
      max-height:220px;
      overflow-y:auto;
    }
    .modal-actions{
      display:flex;
      justify-content:flex-end;
      gap:6px;
    }

    @media (max-width:420px){
      .wrap{padding:16px 14px 18px;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="hero-title">
      <div class="badge">
        <span>üõ°Ô∏è Gentle Warrior</span>
      </div>
      <h1>Kindness Counter</h1>
      <p>Soft heart. Strong spirit.</p>
    </div>

    <div class="heart-aura">
      <img src="symbol-heart.png" alt="Gentle Warrior Heart" class="heart-img">
    </div>

    <p class="subtitle">
      A small place to remember the gentle things you do.
    </p>

    <div class="btn-row">
      <button id="kindnessBtn" class="btn">
        I did something kind today
      </button>
    </div>

    <div class="count-card">
      <div class="count-label">Kind acts you‚Äôve recorded</div>
      <div id="kindnessCount" class="count-number">0</div>
    </div>

    <p class="note">
      Saved on your device only. No ranking. No competition.
    </p>

    <div class="reset-row">
      <button id="resetBtn" class="reset-btn">Reset my counter</button>
    </div>

    <div id="resetConfirm" class="reset-confirm hidden">
      <p>Reset your kindness counter?</p>
      <div class="reset-actions">
        <button id="cancelResetBtn" class="ghost-btn small">Cancel</button>
        <button id="confirmResetBtn" class="secondary-btn small">Reset</button>
      </div>
    </div>

    <div class="share-row">
      <button id="gratitudeBtn" class="secondary-btn">
        One-tap gratitude quote
      </button>
      <button id="shareReflectionBtn" class="secondary-btn">
        Share gentle reflection
      </button>
    </div>

    <div class="message-section">
      <div class="message-label">Today‚Äôs gentle reminder</div>
      <div id="dailyMessage" class="message-box">
        Quiet care is still powerful care.
      </div>
    </div>

    <div class="message-section">
      <div class="message-label">Gratitude quote</div>
      <div id="gratitudeMessage" class="message-box secondary">
        Your kindness is a kind of light I‚Äôm glad exists.
      </div>
    </div>

    <p id="statusMessage" class="status"></p>

    <div class="footer">
      Gentle Warrior raises awareness for children with cerebral palsy
      and honors quiet courage in everyday life.
    </div>
  </div>

  <!-- Share Modal -->
  <div id="shareModal" class="modal hidden" style="display:none;">
    <div id="shareBackdrop" class="modal-backdrop"></div>
    <div class="modal-card">
      <h2 class="modal-title">Share a gentle reflection</h2>
      <p id="shareTextPreview" class="modal-text"></p>
      <div class="modal-actions">
        <button id="closeShareModalBtn" class="ghost-btn small">Close</button>
        <button id="copyShareTextBtn" class="secondary-btn small">Copy</button>
        <button id="nativeShareBtn" class="btn small">Share</button>
      </div>
    </div>
  </div>

  <script>
    // placeholder for GA
    function trackEvent(){}

    (function(){
      var btn = document.getElementById('kindnessBtn');
      var countEl = document.getElementById('kindnessCount');

      var resetBtn = document.getElementById('resetBtn');
      var resetConfirm = document.getElementById('resetConfirm');
      var cancelResetBtn = document.getElementById('cancelResetBtn');
      var confirmResetBtn = document.getElementById('confirmResetBtn');

      var gratitudeBtn = document.getElementById('gratitudeBtn');
      var shareBtn = document.getElementById('shareReflectionBtn');

      var dailyBox = document.getElementById('dailyMessage');
      var gratitudeBox = document.getElementById('gratitudeMessage');
      var statusEl = document.getElementById('statusMessage');

      var shareModal = document.getElementById('shareModal');
      var shareBackdrop = document.getElementById('shareBackdrop');
      var shareTextPreview = document.getElementById('shareTextPreview');
      var closeShareModalBtn = document.getElementById('closeShareModalBtn');
      var copyShareTextBtn = document.getElementById('copyShareTextBtn');
      var nativeShareBtn = document.getElementById('nativeShareBtn');

      if (!btn || !countEl || !dailyBox || !gratitudeBox) { return; }

      var STORAGE_KEY = 'gw_kindness_count';

      function getCount(){
        var raw = localStorage.getItem(STORAGE_KEY);
        var n = parseInt(raw, 10);
        if (isFinite(n) && n >= 0) return n;
        return 0;
      }
      function saveCount(n){
        localStorage.setItem(STORAGE_KEY, String(n));
      }
      function updateCount(){
        countEl.textContent = getCount();
      }

      function pickFrom(list){
        return list[Math.floor(Math.random() * list.length)];
      }

      // DAILY encouragements
      var DAILY_ENCOURAGEMENTS = [
        "Someone‚Äôs day is softer because of you.",
        "Quiet care is still powerful care.",
        "You showed up gently today. That matters.",
        "Small kindness, real impact.",
        "The world is heavy. Your kindness is not wasted.",
        "You may forget this moment ‚Äî someone‚Äôs heart won‚Äôt.",
        "Gentle doesn‚Äôt mean weak. Gentle means brave.",
        "Even on tired days, choosing kindness is courage.",
        "Your patience is a quiet superpower.",
        "A soft word can carry someone through a hard day.",
        "You made the day a little safer for someone.",
        "The effort you gave today is seen, even if not clapped for."
      ];

      // GRATITUDE quotes
      var GRATITUDE_QUOTES = [
        "Thank you for choosing kindness even when no one is watching.",
        "Your quiet support is something my heart doesn‚Äôt forget.",
        "I‚Äôm grateful for every small way you make the world softer.",
        "Your patience feels like a safe place to rest.",
        "Thank you for staying kind, even when the day was heavy.",
        "Your kindness sits in the background but holds everything together.",
        "Thank you for offering care instead of judgement.",
        "I‚Äôm grateful for your steady, unrecorded acts of love.",
        "Your gentle presence makes hard days less sharp.",
        "Your kindness is a kind of light I‚Äôm glad exists.",
        "Thank you for being soft in a world that often isn‚Äôt.",
        "Your kindness tells someone, ‚ÄòYou don‚Äôt have to carry this alone.‚Äô"
      ];

      // current visible messages
      var currentDailyMessage = "";
      var currentGratitudeMessage = "";

      var lastShareText = "";

      function setStatus(msg){
        if (!statusEl) return;
        statusEl.textContent = msg || "";
      }

      function buildShareText(){
        // use the currently shown gratitude (or daily) message so it matches UI
        var quote = currentGratitudeMessage || currentDailyMessage || pickFrom(GRATITUDE_QUOTES);
        var count = getCount();

        var text = "";
        text += "Today I chose a small act of kindness. üå±\n\n";
        if (count > 0){
          text += "My Kindness Counter is now at " + count + " act" + (count === 1 ? "" : "s") + ".\n\n";
        }
        text += "\"" + quote + "\"\n\n";
        text += "Gentle Warrior is a small project raising awareness for children with cerebral palsy through simple games and quiet encouragement.\n";
        text += "https://officialgentlewarrior.github.io/gentlewarrior-universe/\n\n";
        text += "#GentleWarrior #CPAwareness #SoftHeartStrongSpirit";

        return text;
      }

      function openShareModal(){
        lastShareText = buildShareText();
        if (shareTextPreview){
          shareTextPreview.textContent = lastShareText;
        }
        if (shareModal){
          shareModal.classList.remove('hidden');
          shareModal.style.display = 'flex';
        }
      }
      function closeShareModal(){
        if (shareModal){
          shareModal.classList.add('hidden');
          shareModal.style.display = 'none';
        }
      }

      function copyShareText(){
        if (!lastShareText){
          lastShareText = buildShareText();
        }
        try{
          if (navigator.clipboard && navigator.clipboard.writeText){
            navigator.clipboard.writeText(lastShareText);
          }else{
            var tmp = document.createElement('textarea');
            tmp.value = lastShareText;
            tmp.style.position = 'fixed';
            tmp.style.opacity = '0';
            document.body.appendChild(tmp);
            tmp.select();
            document.execCommand('copy');
            document.body.removeChild(tmp);
          }
          setStatus("Reflection copied ‚Äî you can paste it anywhere you want to share.");
          trackEvent('kindness_share_copied', {});
        }catch(e){
          setStatus("Couldn‚Äôt copy, but your kindness still counts.");
        }
      }

      function nativeShare(){
        if (!lastShareText){
          lastShareText = buildShareText();
        }
        if (navigator.share){
          navigator.share({ text:lastShareText })
            .then(function(){
              setStatus("Thank you for sharing a gentle reflection.");
              trackEvent('kindness_share_native', {});
            })
            .catch(function(){
              copyShareText();
            });
        } else {
          copyShareText();
        }
      }

      // main kindness button ‚Üí daily encouragement
      btn.addEventListener('click', function(){
        var next = getCount() + 1;
        saveCount(next);
        updateCount();

        currentDailyMessage = pickFrom(DAILY_ENCOURAGEMENTS);
        dailyBox.textContent = currentDailyMessage;

        setStatus("");
        trackEvent('kindness_counter_tap', { count: next });
      });

      // reset flow
      if (resetBtn && resetConfirm && cancelResetBtn && confirmResetBtn){
        resetBtn.addEventListener('click', function(){
          resetConfirm.classList.remove('hidden');
        });
        cancelResetBtn.addEventListener('click', function(){
          resetConfirm.classList.add('hidden');
        });
        confirmResetBtn.addEventListener('click', function(){
          saveCount(0);
          updateCount();
          resetConfirm.classList.add('hidden');

          currentDailyMessage = "Every day is a new chance for kindness.";
          dailyBox.textContent = currentDailyMessage;

          setStatus("");
          trackEvent('kindness_counter_reset', {});
        });
      }

      // one-tap gratitude quote (separate box)
      if (gratitudeBtn){
        gratitudeBtn.addEventListener('click', function(){
          currentGratitudeMessage = pickFrom(GRATITUDE_QUOTES);
          gratitudeBox.textContent = currentGratitudeMessage;
          setStatus("");
          trackEvent('kindness_gratitude_quote', {});
        });
      }

      // share button + modal actions
      if (shareBtn){
        shareBtn.addEventListener('click', function(){
          openShareModal();
          setStatus("");
          trackEvent('kindness_share_open', {});
        });
      }
      if (closeShareModalBtn){
        closeShareModalBtn.addEventListener('click', function(){
          closeShareModal();
        });
      }
      if (shareBackdrop){
        shareBackdrop.addEventListener('click', function(){
          closeShareModal();
        });
      }
      if (copyShareTextBtn){
        copyShareTextBtn.addEventListener('click', function(){
          copyShareText();
        });
      }
      if (nativeShareBtn){
        nativeShareBtn.addEventListener('click', function(){
          nativeShare();
        });
      }

      // initial state
      updateCount();

      currentDailyMessage = pickFrom(DAILY_ENCOURAGEMENTS);
      dailyBox.textContent = currentDailyMessage;

      currentGratitudeMessage = pickFrom(GRATITUDE_QUOTES);
      gratitudeBox.textContent = currentGratitudeMessage;

      setStatus("");
    })();
  </script>
</body>
</html>